# --- THE "LOCK": PROTECTED BY CONSTRAINTS ---
numpy
pandas
email-validator

# --- API & ORCHESTRATION (DOWNGRADED FOR AIRFLOW COMPATIBILITY) ---
# FastAPI 0.103.1 is the "sweet spot" that works with older Pydantic/Email-Validator
fastapi==0.103.1
uvicorn[standard]>=0.27.0
pydantic-settings
python-dotenv>=1.0.0

# --- LANGCHAIN & LLM ---
openai>=1.50.0
langchain>=0.3.0
langchain-openai
langchain-community
langchain_text_splitters
langchain-chroma

# --- VECTOR DATABASE ---
chromadb>=0.4.0
pysqlite3-binary

# --- DATA PROCESSING ---
pypdf
sentence-transformers

# --- AIRFLOW & INFRASTRUCTURE ---
apache-airflow[amazon,postgres]==2.7.2
apache-airflow-providers-postgres
psycopg2-binary>=2.9.0
boto3

# --- TESTING ---
pytest
httpx